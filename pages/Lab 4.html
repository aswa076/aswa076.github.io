<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Lab 4</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css">
<style>
.info {
padding: 8px;
font: 18px/12px Arial, Helvetica;
background: black;
background: rgba(255,255,255,0.8);
box-shadow: 0 0 15px rgba(0,0,0,0.2);
border-radius: 8px;
}
.info h4 {
margin: 0 0 5px;
color: black;
}
.legend {
text-align: left;
line-height: 20px;
color: black;
padding: 5px;
}
.legend i {
width: 18px;
height: 20px;
float: left;
margin-right: 8px;
opacity: 1;
}
</style>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css">
<style>
.info {
padding: 8px;
font: 18px/12px Arial, Helvetica;
background: black;
background: rgba(255,255,255,0.8);
box-shadow: 0 0 15px rgba(0,0,0,0.2);
border-radius: 8px;
}
.info h4 {
margin: 0 0 5px;
color: black;
}
.legend {
text-align: left;
line-height: 20px;
color: black;
padding: 5px;
}
.legend i {
width: 18px;
height: 20px;
float: left;
margin-right: 8px;
opacity: 1;
}
</style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(224, 224, 224); height: 1188px;" alink="#000099" link="#000099" vlink="#990099">
<table style="width: 1018px; height: 786px; text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td>
<table style="text-align: left; margin-left: auto; margin-right: auto; width: 1011px; height: 1138px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="background-color: rgb(46, 138, 223); height: 1134px;">
<table style="text-align: left; width: 956px; height: 92px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><big><big><big><span style="font-weight: bold;">GEOG 774</span></big></big></big><small><br>
</small><big><big><small style="font-weight: bold;"><small>2nd Sem / 2017 </small></small></big></big><small>&nbsp;
&nbsp;<br>
</small><big><big><small style="font-weight: bold;"><small>University of
Auckland</small></small><span style="font-weight: bold;"></span></big>
</big>&nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-weight: bold;">&nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Arishnil
Swamy&nbsp; </span>&nbsp;
&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp;&nbsp; </td>
</tr>
</tbody>
</table>
<br>
<table style="text-align: left; background-color: rgb(167, 167, 167); width: 957px; height: 32px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="width: 16%; text-align: center;"><a href="../index.html"><span style="font-weight: bold;">Prelab</span></a></td>
<td style="width: 16%; text-align: center; font-weight: bold;"><a href="Lab%202.html">Lab 2</a></td>
<td style="width: 16%; text-align: center;"><a href="Lab%203.html"><span style="font-weight: bold;">Lab
3 </span></a></td>
<td style="width: 16%; text-align: center;"><a href="file:///H:/GEOG%20774%20Website/pages/Lab%204.html"><span style="font-weight: bold;">Lab
4 </span></a></td>
<td style="width: 16%; text-align: center;"><a href="Lab%205.html"><span style="font-weight: bold;">Lab
5 </span></a></td>
<td style="width: 16%; text-align: center;"><a href="Project.html"><span style="font-weight: bold;">Project
</span></a></td>
</tr>
</tbody>
</table>
<br>
<table style="text-align: left; width: 956px; height: 80px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><br style="font-weight: bold;">
<div style="text-align: center;"><big style="font-weight: bold;"><big>Structural Fire
Incidences Reported in the
Auckland Region From 2013</big></big><big style="font-weight: bold;"><big>-</big></big><big style="font-weight: bold;"><big>2016</big></big><br>
</div>
&nbsp;&nbsp; </td>
</tr>
</tbody>
</table>
<br>
<table style="text-align: left; width: 957px; height: 920px;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td>
<script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js"></script>
<div id="mapid" style="width: 944px; height: 920px;"></div>
<script type="text/javascript" src="/js/HexmashblockfoRAKLregionshowingfires.js"></script>
<script>
var mymap = L.map('mapid').setView([-36.8583, 174.7751], 10);
L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
maxZoom: 20,
attribution: ' &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> | ' +
' &copy; <a href="http://cartodb.com/attributions">CartoDB </a> | Firedata' +
' &copy; <a href="https://fireandemergency.nz/ "> 2016 NZ Fire Service</a>', id: 'mapbox.streets'
}).addTo(mymap);
function getColor(d) {
return d > 160? '#330066' :
d > 80 ? '#4C0099' :
d > 40 ? '#6600CC' :
d > 20 ? '#7F00FF' :
d > 10 ? '#9933FF' :
d > 5 ? '#B266FF' :
d > 0 ? '#CC99FF' :
'#E5CCFF';
} function style(feature) {
return {
fillColor: getColor(feature.properties.fireCOUNTS),
weight: 0.8,
opacity: 1,
color: 'black',
fillOpacity: 1
};
}
var geojson; function highlightFeature(e) { var layer = e.target;
layer.setStyle({ weight: 2.6,
color: 'yellow',
dashArray: '',
fillOpacity: 0.7
});
if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
layer.bringToFront();
}
info.update(layer.feature.properties);
}
function resetHighlight(e) {
geojson.resetStyle(e.target);
info.update();
} function onEachFeature(feature,layer) {
layer.on({
mouseover: highlightFeature,
mouseout: resetHighlight,
});
}
geojson = L.geoJson(HexmashblockfoRAKLregionshowingfires,{
style: style,
onEachFeature:onEachFeature
}).addTo(mymap);
var info = L.control(); info.onAdd = function (map) {
this._div = L.DomUtil.create('div', 'info');
this.update();
return this._div;
};
info.update = function (props) {
this._div.innerHTML = '<h4>Number of structural fires reported</h4>' + (props ?
props.fireCOUNTS + ' fires '
:'Hover over a hexbin');
};
info.addTo(mymap);
var legend = L.control({position: 'bottomright'});
legend.onAdd = function (map) {
var div = L.DomUtil.create('div', 'info legend'),
grades = [0,5,10,20,40,80,160], key_labels = ["0-5","6-10","11-20","21-40","41-80","81-160",">161</h5>"],
labels = ["<h4>Structural fires from 2013-2016:</h4>"],
from, to;
// loop through our density intervals and generate a label with a colored square for each interval:
for (var i = 0; i < grades.length; i++) {
from = grades[i];
to = grades[i + 1];
labels.push(
'<i style="background:' + getColor(from + 1) + '"></i> ' +
key_labels[i]);
}
div.innerHTML = labels.join('<br>');
return div;
};
legend.addTo(mymap);
</script> </td>
</tr>
</tbody>
</table>
<br>
<table style="text-align: left; width: 962px; height: 19px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="height: 15px;">&nbsp;<br>
</td>
</tr>
</tbody>
</table>
<br>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</body></html>